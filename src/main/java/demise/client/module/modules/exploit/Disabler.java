package demise.client.module.modules.exploit;

import demise.client.module.Module;
import demise.client.module.setting.impl.TickSetting;
import net.minecraft.network.play.client.C0BPacketEntityAction;
import net.minecraft.network.play.server.S40PacketDisconnect;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import net.minecraftforge.fml.common.gameevent.TickEvent;

public class Disabler extends Module {
    public static TickSetting polar, intaveSprintScaffold;

    public Disabler() {
        super("Disabler", ModuleCategory.exploit);

        this.registerSetting(intaveSprintScaffold = new TickSetting("Intave Sprint Scaffold", false));
        this.registerSetting(polar = new TickSetting("Polar", false));
    }

    public void update() {
        //gothaj be like:
        if (polar.isToggled() && mc.thePlayer.ticksExisted > 120) {
            mc.getNetHandler().addToSendQueue(new S40PacketDisconnect());
        }
    }

    @SubscribeEvent
    public void onTick(TickEvent.PlayerTickEvent ev) {
        //if this doesn't work blame @liquidsquid1, not me
        if (intaveSprintScaffold.isToggled() && mc.thePlayer.ticksExisted > 80) {
            mc.thePlayer.sendQueue.addToSendQueue(
                    new C0BPacketEntityAction(mc.thePlayer, C0BPacketEntityAction.Action.START_SNEAKING)
            );
            mc.thePlayer.sendQueue.addToSendQueue(
                    new C0BPacketEntityAction(mc.thePlayer, C0BPacketEntityAction.Action.STOP_SNEAKING)
            );
        }
    }
}